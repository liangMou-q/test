(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dd88b1b"],{"191c":function(t,e,a){},"311d":function(t,e,a){"use strict";a("64c7")},3523:function(t,e,a){"use strict";a("9c16")},3944:function(t,e,a){},"5c04":function(t,e,a){"use strict";a("e59a")},6377:function(t,e,a){"use strict";a("d92a")},"64c7":function(t,e,a){},7375:function(t,e,a){"use strict";a("3944")},8975:function(t,e,a){},9406:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("CardFun")],1),t._l(t.list,(function(t){return a("el-col",{key:t.title,attrs:{sm:12,md:12,lg:6}},[a("CardToday",{attrs:{title:t.title,count:t.count,"s-data":t.sData,"x-data":t.xData,color:t.color}})],1)})),a("el-col",{attrs:{span:24}},[a("CardMenu",{scopedSlots:t._u([{key:"card_fun",fn:function(){return[a("Tabs",{attrs:{"my-data":t.chartsData,"charts-xdata":t.chartsXdata},on:{"table-click":t.tableClick}})]},proxy:!0}])})],1)],2)],1)},s=[],r=a("1da1"),o=(a("96cf"),a("d3b7"),a("159b"),a("a9e3"),a("a434"),a("ed08")),i=a("c540"),c=a("d43b"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cardfun"},[a("div",{staticClass:"cardfun_lg"},[a("CardMenu",{attrs:{header:t.header,button:t.button,shadow:"always"},scopedSlots:t._u([{key:"card_fun",fn:function(){return[a("FunList")]},proxy:!0}])})],1),a("div",{staticClass:"cardfun_md"},[a("CardMenu",{scopedSlots:t._u([{key:"card_fun",fn:function(){return[a("el-collapse",{on:{change:t.handleChange}},[a("el-collapse-item",{attrs:{title:"全部功能",name:"1"}},[a("FunList")],1)],1)]},proxy:!0}])})],1)])},u=[],d=a("9cb0"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:12}},t._l(t.list,(function(e){return a("el-col",{key:e.iconClass,attrs:{sm:12,md:6,lg:3}},[a("el-card",{attrs:{shadow:"hover","body-style":{padding:"20px",textAlign:"center"}}},[a("div",[a("i",{staticClass:"iconfont",class:e.iconClass})]),a("div",[a("span",{staticStyle:{"padding-left":"5px"}},[t._v(t._s(e.name))])])])],1)})),1)},h=[],p={data:function(){return{list:[{iconClass:"icon-caigouruku-",name:"采购入库"},{iconClass:"icon-caigoudingdanliebiao",name:"采购订单"},{iconClass:"icon-xiaoshouyewu",name:"销售业务"},{iconClass:"icon-xiaoshouchuku",name:"销售出库"},{iconClass:"icon-shoukuan",name:"收款记录"},{iconClass:"icon-fukuan",name:"付款记录"},{iconClass:"icon-_chakanpandiandan",name:"查看盘点单"},{iconClass:"icon-xiaoshoulirunbiao",name:"销售利润表"}]}}},m=p,y=a("2877"),b=Object(y["a"])(m,f,h,!1,null,null,null),v=b.exports,g={components:{CardMenu:d["a"],FunList:v},data:function(){return{header:"常用功能",button:"全部功能",activeNames:["1"]}},methods:{handleChange:function(t){console.log(t)}}},w=g,x=(a("311d"),Object(y["a"])(w,l,u,!1,null,"8d6e74f8",null)),_=x.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("CardMenu",{scopedSlots:t._u([{key:"card_fun",fn:function(){return[a("el-row",{attrs:{gutter:20,type:"flex"}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"today"},[a("p",{attrs:{id:"date"}},[t._v("今日"+t._s(t.title)+"笔数")]),a("p",{attrs:{id:"count"}},[t._v(t._s(t.count))]),a("p",{attrs:{id:"num"}},[t._v("近7天"+t._s(t.title)+"笔数变化")])])]),a("el-col",{attrs:{span:14}},[a("ELine",{attrs:{"s-data":t.sData,"is-show":t.isShow,trigger:t.trigger,position:t.position,"x-data":t.xData,"s-type":t.sType,color:t.color}})],1)],1)]},proxy:!0}])})},k=[],C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"chart",style:{width:"100%",height:"100%"},attrs:{id:"myChart"}})},S=[],E=a("313e"),N=a("4b2a"),O=a("3620"),T=a("c55a"),$=a("f95e");E["b"](N["a"],O["a"],T["a"],$["a"]);var L={props:{isShow:{type:Boolean,default:!1},trigger:{type:String,default:""},position:{type:String,default:""},xData:{type:Array,default:function(){return[]}},sData:{type:Array,default:function(){return[0,0,0,0,0,0,0]}},sType:{type:String,default:""},color:{type:String,default:""}},mounted:function(){this.line()},methods:{line:function(){var t=E["a"](this.$refs.chart),e={tooltip:{trigger:this.trigger,position:this.position,axisPointer:{type:"shadow"}},grid:{top:"10%",left:"1%",right:"1%",bottom:"1%",containLabel:!0},xAxis:{show:this.isShow,data:this.xData},yAxis:{show:this.isShow,type:"value"},series:[{data:this.sData,type:this.sType,areaStyle:{color:this.color,opactiy:.3,origin:"start"},itemStyle:{color:this.color}}],legend:{lineStyle:{color:"#fff"}}};e&&t.setOption(e,!0),window.onresize=function(){t.resize()},window.addEventListener("resize",(function(){t.resize()}))}}},j=L,A=(a("7375"),Object(y["a"])(j,C,S,!1,null,"225f0f94",null)),M=A.exports,z={components:{CardMenu:d["a"],ELine:M},props:{title:{type:String,default:"购贷"},count:{type:Number,default:0},sData:{type:Array,default:function(){return[]}},xData:{type:Array,default:function(){return[]}},color:{type:String,default:""}},data:function(){return{isShow:!1,trigger:"item",position:"left",sType:"line"}}},Y=z,R=(a("aeb8"),Object(y["a"])(Y,D,k,!1,null,"074f0118",null)),X=R.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[t._l(t.tabPane,(function(e){var n=e.label,s=e.name;return a("el-tab-pane",{key:s,attrs:{label:n,name:s,lazy:""}},[a("div",{key:(new Date).getTime(),staticClass:"bar"},[a("ELine",{attrs:{"s-data":t.chartsData,"is-show":t.isShow,trigger:t.trigger,position:t.position,"x-data":t.xData,"s-type":t.sType}})],1)])})),a("el-tab-pane",{attrs:{label:"仓库",name:"third"}},[a("div",{staticClass:"bar"},["third"===t.activeName?a("EPie"):t._e()],1)]),a("el-tab-pane",{attrs:{disabled:""},scopedSlots:t._u([{key:"label",fn:function(){return[a("Dropdown")]},proxy:!0}])})],2)},P=[],B=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"chart",style:{width:"100%",height:"100%"},attrs:{id:"myChart"}})}),H=[],J=a("22b4"),I=a("1be7"),V=a("3094"),q=a("ff32"),G=a("49bb"),K=a("ee29");J["a"]([V["a"],q["a"],G["a"],$["a"],K["a"]]);var Q={props:{left:{type:String,default:"15%"}},mounted:function(){this.pie()},methods:{pie:function(){var t=I["b"](this.$refs.chart),e={legend:{left:this.left,orient:"vertical",y:"center"},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!1},saveAsImage:{show:!0}}},series:[{name:"Nightingale Chart",type:"pie",radius:[10,"75%"],center:["55%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{normal:{show:!0,formatter:"{b}: {c}({d}%)"}},data:[{value:40,name:"羽绒服"},{value:38,name:"ad鞋子"},{value:32,name:"牛仔裤"},{value:30,name:"长袖裙"},{value:28,name:"连衣裙"},{value:26,name:"皮裤"},{value:22,name:"短裤"},{value:18,name:"风衣"}]}]};e&&t.setOption(e,!0),window.onresize=function(){t.resize()},window.addEventListener("resize",(function(){t.resize()}))}}},U=Q,W=(a("5c04"),Object(y["a"])(U,B,H,!1,null,"3c978f31",null)),Z=W.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dropdown",{on:{command:t.handleCommand},scopedSlots:t._u([{key:"dropdown",fn:function(){return[a("el-dropdown-menu",[a("el-dropdown-item",{attrs:{command:"day"}},[t._v("近七天")]),a("el-dropdown-item",{attrs:{command:"month"}},[t._v("近一月")]),a("el-dropdown-item",{attrs:{command:"year"}},[t._v("近半年")])],1)]},proxy:!0}])},[a("el-button",{attrs:{type:"primary",size:"small"}},[t._v(" "+t._s(t.text)+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})])],1)},et=[],at={data:function(){return{text:"近七天"}},methods:{handleCommand:function(t){"day"===t?(this.text="近七天",this.$store.commit("dropdown/SET_DATE",6)):"month"===t?(this.text="近一月",this.$store.commit("dropdown/SET_DATE",30)):"year"===t&&(this.text="近半年",this.$store.commit("dropdown/SET_DATE",181)),this.$message("".concat(this.text))}}},nt=at,st=Object(y["a"])(nt,tt,et,!1,null,null,null),rt=st.exports,ot={components:{ELine:M,EPie:Z,Dropdown:rt},props:{myData:{type:Array,default:function(){return[]}},chartsXdata:{type:Array,default:function(){return[]}}},data:function(){return{activeName:"first",tabPane:[{label:"销售",name:"first"},{label:"采购",name:"second"}],chartsData:[],isShow:!0,trigger:"axis",position:"left",xData:[],sType:"bar"}},watch:{myData:{immediate:!0,handler:function(){this.chartsData=this.myData,this.xData=this.chartsXdata}}},methods:{handleClick:function(t,e){var a=t.name;this.$emit("table-click",a)}}},it=ot,ct=(a("e25e"),Object(y["a"])(it,F,P,!1,null,"49981743",null)),lt=ct.exports,ut={components:{CardFun:_,CardToday:X,CardMenu:d["a"],Tabs:lt},data:function(){return{todayList:[{title:"付款",count:20,sData:[150,230,224,218,135,147,260],xData:["周一","周二","周三","周四","周五","周六","周日"],color:"#d1b100"},{title:"收款",count:50,sData:[150,200,100,100,135,300,400],xData:["周一","周二","周三","周四","周五","周六","周日"],color:"tomato"}],list:[],salesNum:void 0,stockNum:void 0,salesxData:void 0,stockxData:void 0,chartsData:[],chartsXdata:[]}},watch:{"$store.state.dropdown.date":{handler:function(t){console.log("天数",t),this.getSaleNum(t,"second"),this.getStock(t,"second")}}},created:function(){this.getSaleNum(void 0,"first"),this.getStock(void 0,"first"),this.list=this.todayList},methods:{parseTime:o["a"],getSaleNum:function(){var t=arguments,e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,s,r,o,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:6,s=t.length>1&&void 0!==t[1]?t[1]:"first",a.next=4,Object(i["b"])(n);case 4:r=a.sent,o=r.data,c=[],l=[],o.forEach((function(t){c.push(Number(t.sum)),l.push(t.RepDate)})),console.log("@@销售",o),"first"===s&&(o.length>7&&c.splice(0,1),e.todayList.push({title:"销货",count:c[c.length-1],sData:c,xData:l,color:"#67cc00"})),e.salesNum=c,e.salesxData=l,e.tableClick();case 14:case"end":return a.stop()}}),a)})))()},getStock:function(){var t=arguments,e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,s,r,o,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:6,s=t.length>1&&void 0!==t[1]?t[1]:"first",a.next=4,Object(c["a"])(n);case 4:r=a.sent,o=r.data,console.log("采购",o),i=[],l=[],o.forEach((function(t){i.push(Number(t.sum)),l.push(t.RepDate)})),"first"===s&&(o.length>7&&i.splice(0,1),e.todayList.push({title:"入库",count:i[i.length-1],sData:i,xData:l,color:"#4a43ff"})),e.stockNum=i,e.stockxData=l,e.tableClick();case 14:case"end":return a.stop()}}),a)})))()},tableClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$store.state.dropdown.labelName;console.log(t),this.$store.commit("dropdown/SET_LABELNAME",t),"first"===t?(this.chartsData=this.salesNum,this.chartsXdata=this.salesxData):"second"===t&&(this.chartsData=this.stockNum,this.chartsXdata=this.stockxData)}}},dt=ut,ft=(a("6377"),Object(y["a"])(dt,n,s,!1,null,"2338219f",null));e["default"]=ft.exports},"9c16":function(t,e,a){},"9cb0":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticStyle:{height:"100%",margin:".1rem .2rem"},attrs:{shadow:t.shadow,"body-style":{padding:"1% 10px",cursor:"pointer"}},scopedSlots:t._u([""!==t.header?{key:"header",fn:function(){return[a("div",{staticClass:"clearfix"},[a("span",[t._v(t._s(t.header))]),a("el-button",{staticClass:"button",attrs:{type:"text"}},[t._v(t._s(t.button))])],1)]},proxy:!0}:null],null,!0)},[t._t("card_fun")],2)},s=[],r={props:{shadow:{type:String,default:"hover"},header:{type:String,default:""},button:{type:String,default:""}}},o=r,i=(a("3523"),a("2877")),c=Object(i["a"])(o,n,s,!1,null,"42dfd4f9",null);e["a"]=c.exports},aeb8:function(t,e,a){"use strict";a("191c")},d43b:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return o}));var n=a("b775");function s(t){return Object(n["a"])({url:"/stock/stocknum",method:"get",params:{days:t}})}function r(t){return Object(n["a"])({url:"/stock/getstock",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/stock/insertstock",method:"post",data:t})}},d92a:function(t,e,a){},e25e:function(t,e,a){"use strict";a("8975")},e59a:function(t,e,a){},ed08:function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));a("ac1f"),a("5319"),a("1276"),a("d3b7"),a("159b");var n=a("5a0c"),s=a.n(n),r=a("4208"),o=a.n(r),i=a("b002"),c=a.n(i);function l(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD HH:mm:ss";if(0===arguments.length||!t)return null;if(e="number"!==typeof t?s()(t).format(a):s()(s()(t).valueOf()).format(a),"YYYY-MM-DD"===a)return e;var n=u(e);return n}function u(t){var e,a=s()().valueOf()-s()(t).valueOf();return e=a<864e5?s()(t).fromNow():t,e}s.a.extend(o.a),s.a.extend(c.a),s.a.updateLocale("en",{relativeTime:{future:"in %s",past:"%s 前",s:"几秒",m:"1分钟",mm:"%d 分钟",h:"1小时",hh:"%d 小时",d:"1天",dd:"%d 天",M:"1月",MM:"%d 月",y:"1年",yy:"%d 年"}})}}]);